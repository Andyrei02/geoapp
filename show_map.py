import folium


class ShowMap:
    def __init__(self):
        hjd_coords_1 = [[47.75927,27.46054], [47.75779,27.45999], [47.75652,27.45940], [47.75621,27.45903], [47.7572011, 27.4578334], [47.75666,27.45695], [47.7605340, 27.4525276], [47.7615223, 27.4543951], [47.76372,27.45269], [47.76390,27.45315], [47.76366,27.45369], [47.76356,27.45418], [47.76371,27.45491], [47.76373,27.45523], [47.76361,27.45570], [47.76322,27.45665], [47.76201,27.45822], [47.75960,27.45889], [47.75950,27.45917]]
        hjd_coords_2 = [[47.75929,27.46054], [47.75941,27.45984], [47.75952,27.45910], [47.75956,27.45896], [47.75962,27.45888], [47.76201,27.45821], [47.76254,27.45750], [47.76323,27.45666], [47.76386,27.45760], [47.76392,27.45766], [47.76434,27.45858], [47.76470,27.45852], [47.76531,27.45788], [47.76539,27.45788], [47.76586,27.45793], [47.76610,27.45794], [47.76675,27.45783], [47.76766,27.45759], [47.76817,27.45752], [47.76836,27.45745], [47.76868,27.45739], [47.76879,27.45748], [47.76902,27.45783], [47.76906,27.45808], [47.76904,27.45888], [47.76899,27.45920], [47.76871,27.46020], [47.76866,27.46043], [47.76864,27.46061], [47.76857,27.46254], [47.76864,27.46268], [47.76893,27.46303], [47.76829,27.46315], [47.76800,27.46316], [47.76779,27.46312], [47.76636,27.46250], [47.76599,27.46239], [47.76352,27.46184], [47.76248,27.46152], [47.76148,27.46110], [47.76081,27.46090], [47.75935,27.46058]]
        hjd_coords_3 = [[47.75927,27.46054], [47.76893,27.46303], [47.76829,27.46315], [47.76800,27.46316], [47.76779,27.46312], [47.76636,27.46250], [47.76599,27.46239], [47.76352,27.46184], [47.76248,27.46152], [47.76148,27.46110], [47.76081,27.46090], [47.75935,27.46058], [47.76908,27.46305], [47.76922,27.46309], [47.76980,27.46340], [47.76966,27.46347], [47.76961,27.46354], [47.76960,27.46362], [47.76960,27.46392], [47.76949,27.46397], [47.76912,27.46492], [47.76890,27.46500], [47.76857,27.46484], [47.76853,27.46517], [47.76845,27.46550], [47.76825,27.46646], [47.76782,27.46794], [47.76299,27.46712], [47.76300,27.46715], [47.7579,27.4645], [47.7567,27.4644], [47.7546,27.4637], [47.7537,27.4622], [47.7553,27.4592]]
        hjd_coords_4 = [[47.76376,27.45281], [47.76390,27.45302], [47.76389,27.45317], [47.76365,27.45370], [47.76359,27.45398], [47.76356,27.45413], [47.76358,27.45430], [47.76365,27.45453], [47.76373,27.45501], [47.76372,27.45521], [47.76370,27.45536], [47.76356,27.45584], [47.76322,27.45664], [47.76335,27.45681], [47.76382,27.45757], [47.76382,27.45757], [47.76482,27.45689], [47.76496,27.45685], [47.76513,27.45672], [47.76556,27.45616], [47.76607,27.45558], [47.76637,27.45531], [47.76662,27.45517], [47.76671,27.45516], [47.76681,27.45519], [47.76697,27.45524], [47.76734,27.45468], [47.76759,27.45424], [47.76786,27.45376], [47.76823,27.45325], [47.76847,27.45295], [47.76940,27.45173], [47.76879,27.45053], [47.76822,27.44937], [47.76754,27.44795], [47.76751,27.44784], [47.76575,27.44977]]

        glod_coords_1 = [[47.79127, 27.53474], [47.79753, 27.52654], [47.79703, 27.52527], [47.79855, 27.52371], [47.79769, 27.52208], [47.79515, 27.52502], [47.79124, 27.52997], [47.79208, 27.53135], [47.79048, 27.53345]]
        glod_coords_2 = [[47.789902, 27.525247], [47.785717, 27.530010], [47.786345, 27.531243], [47.788919, 27.531914], [47.789888, 27.532145], [47.791391, 27.529688], [47.797215, 27.522704], [47.796716, 27.521962], [47.795499, 27.520654], [47.790532, 27.526275]]
        glod_coords_3 = [[47.787080, 27.540910], [47.784015, 27.536833], [47.787946, 27.533636], [47.788738, 27.536713], [47.788197, 27.539696]]
        glod_coords_4 = [[47.786179, 27.522313], [47.784218, 27.524240], [47.784709, 27.525360], [47.783392, 27.526780], [47.783764, 27.527772], [47.784889, 27.526169], [47.786539, 27.528706], [47.789650, 27.524984], [47.788373, 27.522731], [47.786658, 27.523261]]
        glod_coords_5 = [[47.78607,27.52239], [47.78424,27.52411], [47.78392,27.52333], [47.78361,27.52262], [47.78362,27.52252], [47.78528,27.52102]]
        glod_coords_6 = [[47.784429, 27.519620], [47.780235, 27.523503], [47.781017, 27.525036], [47.782341, 27.523530], [47.783479, 27.522521], [47.783631, 27.522481], [47.785266, 27.521009]]
        glod_coords_7 = [[47.780235, 27.523434], [47.779885, 27.522401], [47.781032, 27.521465], [47.782571, 27.520145], [47.782967, 27.519839], [47.783954, 27.518831], [47.784393, 27.519566], [47.782178, 27.521626]]
        glod_coords_8 = [[47.783917, 27.518775], [47.781024, 27.521368], [47.779229, 27.522865], [47.778540, 27.523819], [47.777877, 27.524489], [47.777088, 27.523760], [47.776777, 27.522660], [47.778112, 27.520450], [47.779395, 27.519730], [47.779857, 27.520804], [47.783271, 27.517715]]
        glod_coords_9 = [[47.780214, 27.523428], [47.779860, 27.522407], [47.779165, 27.523058], [47.778862, 27.523447], [47.778573, 27.523887], [47.777944, 27.524560], [47.778455, 27.525051], [47.779740, 27.525866], [47.779993, 27.526099], [47.781641, 27.528367], [47.782625, 27.528696], [47.782960, 27.528039], [47.781875, 27.526534], [47.780788, 27.524861], [47.780502, 27.524238], [47.780174, 27.523460]]

        self.territories = [
    {"name": "Teritoriu 2", "coords": hjd_coords_2, "color": "green"},
    {"name": "Teritoriu 1", "coords": hjd_coords_1, "color": "pink"},
    {"name": "Teritoriu 3", "coords": hjd_coords_3, "color": "yellow"},
    {"name": "Teritoriu 4", "coords": hjd_coords_4, "color": "blue"},

    {"name": "Teritoriu 1", "coords": glod_coords_1, "color": "pink"},
    {"name": "Teritoriu 2", "coords": glod_coords_2, "color": "green"},
    {"name": "Teritoriu 3", "coords": glod_coords_3, "color": "yellow"},
    {"name": "Teritoriu 4", "coords": glod_coords_4, "color": "blue"},
    {"name": "Teritoriu 5", "coords": glod_coords_5, "color": "pink"},
    {"name": "Teritoriu 6", "coords": glod_coords_6, "color": "yellow"},
    {"name": "Teritoriu 7", "coords": glod_coords_7, "color": "blue"},
    {"name": "Teritoriu 8", "coords": glod_coords_8, "color": "pink"},
    {"name": "Teritoriu 9", "coords": glod_coords_9, "color": "purple"}
     ]

    def make_map(self, lat, long_):
        # Создание карты
        mymap = folium.Map(location=[lat, long_], zoom_start=17)

        # Добавление маркера для текущей геолокации
        folium.Marker([lat, long_], tooltip='Текущее положение').add_to(mymap)

        for territory in self.territories:
            folium.Polygon(territory["coords"], color=territory["color"], fill=True, fill_color=territory["color"], fill_opacity=0.2, tooltip=territory["name"]).add_to(mymap)

# Сохранение карты в файл
        # mymap.save('templates/map.html')
        return mymap.get_root().render()

