import folium


class ShowMap:
    def __init__(self):
        hjd_coords_1 = [[47.75927,27.46054], [47.75779,27.45999], [47.75652,27.45940], [47.75621,27.45903], [47.7572011, 27.4578334], [47.75666,27.45695], [47.7605340, 27.4525276], [47.7615223, 27.4543951], [47.76372,27.45269], [47.76390,27.45315], [47.76366,27.45369], [47.76356,27.45418], [47.76371,27.45491], [47.76373,27.45523], [47.76361,27.45570], [47.76322,27.45665], [47.76201,27.45822], [47.75960,27.45889], [47.75950,27.45917]]
        hjd_coords_2 = [[47.75929,27.46054], [47.75941,27.45984], [47.75952,27.45910], [47.75956,27.45896], [47.75962,27.45888], [47.76201,27.45821], [47.76254,27.45750], [47.76323,27.45666], [47.76386,27.45760], [47.76392,27.45766], [47.76434,27.45858], [47.76470,27.45852], [47.76531,27.45788], [47.76539,27.45788], [47.76586,27.45793], [47.76610,27.45794], [47.76675,27.45783], [47.76766,27.45759], [47.76817,27.45752], [47.76836,27.45745], [47.76868,27.45739], [47.76879,27.45748], [47.76902,27.45783], [47.76906,27.45808], [47.76904,27.45888], [47.76899,27.45920], [47.76871,27.46020], [47.76866,27.46043], [47.76864,27.46061], [47.76857,27.46254], [47.76864,27.46268], [47.76893,27.46303], [47.76829,27.46315], [47.76800,27.46316], [47.76779,27.46312], [47.76636,27.46250], [47.76599,27.46239], [47.76352,27.46184], [47.76248,27.46152], [47.76148,27.46110], [47.76081,27.46090], [47.75935,27.46058]]
        hjd_coords_3 = [[47.75927,27.46054], [47.76893,27.46303], [47.76829,27.46315], [47.76800,27.46316], [47.76779,27.46312], [47.76636,27.46250], [47.76599,27.46239], [47.76352,27.46184], [47.76248,27.46152], [47.76148,27.46110], [47.76081,27.46090], [47.75935,27.46058], [47.76908,27.46305], [47.76922,27.46309], [47.76980,27.46340], [47.76966,27.46347], [47.76961,27.46354], [47.76960,27.46362], [47.76960,27.46392], [47.76949,27.46397], [47.76912,27.46492], [47.76890,27.46500], [47.76857,27.46484], [47.76853,27.46517], [47.76845,27.46550], [47.76825,27.46646], [47.76782,27.46794], [47.76299,27.46712], [47.76300,27.46715], [47.7579,27.4645], [47.7567,27.4644], [47.7546,27.4637], [47.7537,27.4622], [47.7553,27.4592]]
        hjd_coords_4 = [[47.76376,27.45281], [47.76390,27.45302], [47.76389,27.45317], [47.76365,27.45370], [47.76359,27.45398], [47.76356,27.45413], [47.76358,27.45430], [47.76365,27.45453], [47.76373,27.45501], [47.76372,27.45521], [47.76370,27.45536], [47.76356,27.45584], [47.76322,27.45664], [47.76335,27.45681], [47.76382,27.45757], [47.76382,27.45757], [47.76482,27.45689], [47.76496,27.45685], [47.76513,27.45672], [47.76556,27.45616], [47.76607,27.45558], [47.76637,27.45531], [47.76662,27.45517], [47.76671,27.45516], [47.76681,27.45519], [47.76697,27.45524], [47.76734,27.45468], [47.76759,27.45424], [47.76786,27.45376], [47.76823,27.45325], [47.76847,27.45295], [47.76940,27.45173], [47.76879,27.45053], [47.76822,27.44937], [47.76754,27.44795], [47.76751,27.44784], [47.76575,27.44977]]

        glod_coords_5 = [[47.78607,27.52239], [47.78424,27.52411], [47.78392,27.52333], [47.78361,27.52262], [47.78362,27.52252], [47.78528,27.52102]]

        self.territories = [
    {"name": "Teritoriu 2", "coords": hjd_coords_2, "color": "green"},
    {"name": "Teritoriu 1", "coords": hjd_coords_1, "color": "pink"},
    {"name": "Teritoriu 3", "coords": hjd_coords_3, "color": "yellow"},
    {"name": "Teritoriu 4", "coords": hjd_coords_4, "color": "blue"},
    {"name": "Teritoriu 5", "coords": glod_coords_5, "color": "blue"}
     ]

    def make_map(self, lat, long_):
        # Создание карты
        mymap = folium.Map(location=[lat, long_], zoom_start=17)

        # Добавление маркера для текущей геолокации
        folium.Marker([lat, long_], tooltip='Текущее положение').add_to(mymap)

        for territory in self.territories:
            folium.Polygon(territory["coords"], color=territory["color"], fill=True, fill_color=territory["color"], fill_opacity=0.2, tooltip=territory["name"]).add_to(mymap)

# Сохранение карты в файл
        # mymap.save('templates/map.html')
        return mymap.get_root().render()

